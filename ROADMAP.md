# ROADMAP.md: 项目任务规划

> **版本**: 1.0
> **创建日期**: 2026-02-20
> **状态**: P3-Planning 阶段
> **负责人**: Project Manager

---

## 1. 项目里程碑

```
┌──────────────────────────────────────────────────────────────────────┐
│                         EnglishStudy 项目路线图                        │
├──────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  P0: MVP 开发                    P1: 功能增强                        │
│  ─────────────                  ────────────                        │
│  ● 数据库基础设施                ● 智能复习调度                       │
│  ● 核心算法实现                  ● 进度统计可视化                     │
│  ● 基础UI界面                   ● 复习提醒                           │
│  ● 学习/测试功能                ● 发音练习                           │
│                                                                      │
│  Week 1-2                       Week 3-4                            │
│  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓           ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒                │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
```

---

## 2. 任务清单 (Task List)

### 图例说明

| 状态 | 说明 |
|------|------|
| `[TODO]` | 待开始 |
| `[DOING]` | 进行中 |
| `[DONE]` | 已完成 |
| `[BLOCKED]` | 被阻塞 |

| 优先级 | 说明 |
|--------|------|
| `P0` | MVP 核心功能（第一版必须） |
| `P1` | 增强功能（第二版） |
| `P2` | 未来优化 |

---

### Phase 1: 基础设施层 (Infrastructure)

| ID | 任务名称 | 优先级 | 状态 | 依赖 | 预估 |
|----|----------|--------|------|------|------|
| I-1 | 项目目录结构初始化 | P0 | `[TODO]` | - | 10m |
| I-2 | 配置文件开发 (config.py) | P0 | `[TODO]` | I-1 | 20m |
| I-3 | 日志系统搭建 (logger.py) | P0 | `[TODO]` | I-1 | 30m |
| I-4 | SQLite 数据库初始化 (database.py) | P0 | `[TODO]` | I-2 | 1h |
| I-5 | 词库加载器开发 (vocab_loader.py) | P0 | `[TODO]` | I-2 | 1h |

---

### Phase 2: 数据模型层 (Models)

| ID | 任务名称 | 优先级 | 状态 | 依赖 | 预估 |
|----|----------|--------|------|------|------|
| M-1 | 用户模型 (user.py) | P0 | `[TODO]` | I-4 | 30m |
| M-2 | 词汇模型 (vocabulary.py) | P0 | `[TODO]` | I-5 | 30m |
| M-3 | 单词记录模型 (word_record.py) | P0 | `[TODO]` | M-2 | 30m |
| M-4 | 学习会话模型 (session.py) | P0 | `[TODO]` | M-1 | 20m |
| M-5 | 错题本/生词本模型 | P0 | `[TODO]` | M-3 | 20m |

---

### Phase 3: 核心算法层 (Core)

| ID | 任务名称 | 优先级 | 状态 | 依赖 | 预估 |
|----|----------|--------|------|------|------|
| C-1 | SM-2 间隔重复算法 (srs.py) | P0 | `[TODO]` | M-3 | 2h |
| C-2 | ELO 难度自适应算法 (difficulty.py) | P0 | `[TODO]` | M-3 | 1.5h |
| C-3 | 单词状态机 (state_machine.py) | P0 | `[TODO]` | M-3 | 1h |

---

### Phase 4: 业务服务层 (Services)

| ID | 任务名称 | 优先级 | 状态 | 依赖 | 预估 |
|----|----------|--------|------|------|------|
| S-1 | 词库管理服务 (vocab_manager.py) | P0 | `[TODO]` | I-5, M-2 | 1.5h |
| S-2 | 学习管理服务 (study_manager.py) | P0 | `[TODO]` | C-1, C-2, S-1 | 2h |
| S-3 | 测试管理服务 (test_manager.py) | P0 | `[TODO]` | S-1 | 1.5h |

---

### Phase 5: 表示层 (UI)

| ID | 任务名称 | 优先级 | 状态 | 依赖 | 预估 |
|----|----------|--------|------|------|------|
| U-1 | 主窗口框架 (main_window.py) | P0 | `[TODO]` | S-1 | 1h |
| U-2 | 单词卡片组件 (card_widget.py) | P0 | `[TODO]` | S-2 | 2h |
| U-3 | 测试组件 (test_widget.py) | P0 | `[TODO]` | S-3 | 1.5h |
| U-4 | 词库管理界面 | P0 | `[TODO]` | S-1, U-1 | 1h |
| U-5 | 样式表开发 (dark_theme.qss) | P0 | `[TODO]` | U-1 | 30m |

---

### Phase 6: 应用集成 (Integration)

| ID | 任务名称 | 优先级 | 状态 | 依赖 | 预估 |
|----|----------|--------|------|------|------|
| INT-1 | 应用程序入口开发 (main.py) | P0 | `[TODO]` | U-1, U-2, U-3 | 30m |
| INT-2 | 词库数据准备 (data/vocab/*.json) | P0 | `[TODO]` | I-5 | 2h |
| INT-3 | 依赖管理 (requirements.txt) | P0 | `[TODO]` | - | 10m |
| INT-4 | 端到端集成测试 | P0 | `[TODO]` | INT-1, INT-2 | 1h |

---

## 3. P1 功能规划（第二版）

| ID | 任务名称 | 优先级 | 状态 | 依赖 |
|----|----------|--------|------|------|
| P1-1 | 智能复习调度优化 | P1 | `[TODO]` | C-1 |
| P1-2 | 学习进度统计服务 | P1 | `[TODO]` | S-2 |
| P1-3 | 进度可视化图表组件 | P1 | `[TODO]` | P1-2 |
| P1-4 | 桌面通知提醒系统 | P1 | `[TODO]` | S-2 |
| P1-5 | TTS 发音功能集成 | P1 | `[TODO]` | U-2 |

---

## 4. 任务依赖关系图

```
                    ┌─────────────┐
                    │    I-1      │ 目录结构
                    └──────┬──────┘
                           │
            ┌──────────────┼──────────────┐
            │              │              │
      ┌─────┴─────┐  ┌─────┴─────┐  ┌─────┴─────┐
      │   I-2     │  │   I-3     │  │  INT-3    │
      │  Config   │  │  Logger   │  │  PyDeps   │
      └─────┬─────┘  └───────────┘  └───────────┘
            │
      ┌─────┴─────┬───────────────┬──────────────┐
      │           │               │              │
┌─────┴─────┐ ┌───┴─────┐   ┌─────┴─────┐  ┌─────┴─────┐
│   I-4     │ │  I-5    │   │  M-1      │  │  M-2      │
│ Database  │ │ Vocab   │   │ User      │  │ Vocabulary│
└─────┬─────┘ └────┬────┘   └─────┬─────┘  └─────┬─────┘
      │            │              │              │
      └────────────┼──────────────┴──────────────┘
                   │
           ┌───────┴───────┐  ┌─────────────────┐
           │     M-3       │  │      M-4        │
           │  WordRecord   │  │    Session      │
           └───────┬───────┘  └─────────────────┘
                   │
     ┌─────────────┼─────────────┬─────────────┐
     │             │             │             │
┌────┴─────┐  ┌────┴─────┐  ┌────┴─────┐  ┌────┴─────┐
│  C-1     │  │  C-2     │  │  C-3     │  │  M-5     │
│   SRS    │  │ Difficulty│  │StateMach │  │ NoteBook │
└────┬─────┘  └────┬─────┘  └───────────┘  └───────────┘
     │            │
     └─────┬──────┘
           │
     ┌─────┴─────┬─────────────┐
     │           │             │
┌────┴─────┐ ┌──┴──────┐  ┌────┴─────┐
│  S-1     │ │  S-2    │  │  S-3     │
│VocabMgr  │ │ StudyMgr│  │ TestMgr  │
└────┬─────┘ └────┬────┘  └────┬─────┘
     │            │            │
     └─────┬──────┴──────┬─────┘
           │             │
     ┌─────┴─────┬───────┴─────┬─────────────┐
     │           │             │             │
┌────┴─────┐ ┌──┴──────┐  ┌────┴─────┐  ┌────┴─────┐
│  U-1     │ │  U-2    │  │  U-3     │  │  U-4     │
│MainWin   │ │CardWidget│  │TestWidget│  │VocabUI   │
└────┬─────┘ └────┬────┘  └────┬─────┘  └───────────┘
     │            │            │
     └────────────┼────────────┘
                  │
            ┌─────┴─────┐
            │  INT-1    │
            │  main.py  │
            └───────────┘
```

---

## 5. 任务状态矩阵

### 当前阶段: Phase 1 - 基础设施层

| Phase | 进度 | 开始任务 |
|-------|------|----------|
| **P0: Infrastructure** | 0/5 (0%) | **I-1: 项目目录结构初始化** |
| P0: Models | 0/5 (0%) | 等待 Infrastructure |
| P0: Core | 0/3 (0%) | 等待 Models |
| P0: Services | 0/3 (0%) | 等待 Core |
| P0: UI | 0/5 (0%) | 等待 Services |
| P0: Integration | 0/4 (0%) | 等待 UI |

### 整体进度

```
P0 MVP: [░░░░░░░░░░░░░░░░░░░░░] 0% (0/25 tasks)
P1 增强: [░░░░░░░░░░░░░░░░░░░░░] 0% (0/5 tasks)
```

---

## 6. 技术债务与风险追踪

| 风险/债务 | 影响 | 缓解计划 | 状态 |
|-----------|------|----------|------|
| PyQt6 学习曲线 | UI 开发延期 | 使用 Qt Designer 进行原型设计 | `[TODO]` |
| 词库版权问题 | 法律风险 | 使用开源词库或自建 | `[TODO]` |
| SM-2 算法调优 | 复习效果不佳 | MVP 后根据用户反馈优化 | `[TODO]` |
| 测试覆盖不足 | 质量风险 | 开发中同步编写单元测试 | `[TODO]` |

---

## 7. 下一步行动

### 立即开始 (Next Action)

| 任务 | 负责人 | 预估时间 |
|------|--------|----------|
| **I-1: 项目目录结构初始化** | Senior Engineer | 10m |
| **I-2: 配置文件开发** | Senior Engineer | 20m |
| **I-3: 日志系统搭建** | Senior Engineer | 30m |

---

## 8. 版本规划

### v0.1.0 (MVP)
- 完整的 P0 任务清单
- 基础学习/测试功能
- 错题本/生词本
- 词库管理

### v0.2.0 (Enhanced)
- P1 任务清单
- 智能复习调度
- 学习统计
- 复习提醒
- 发音功能

---

**ROADMAP.md 已完成。**

**是否确认任务规划，进入 P4: Build 阶段开始编码？**
